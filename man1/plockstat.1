.\"
.\" Copyright (c) 2010 FreeBSD Foundation 
.\" Все права защищены. 
.\" 
.\" Это программное обеспечение было разработано Руи Пауло при спонсорской поддержке
.\" FreeBSD Foundation. 
.\"  
.\" Распространение и использование в исходном коде и двоичной форме, с использованием или без использования
.\" модификаций, если следующие условия
.\" соблюдаются:
.\" 1. При распространении исходного кода должно сохраняться вышеуказанное уведомление
.\"    об авторских правах, этот список условий и следующий дисклеймер.
.\" 2. При распространиении в двоичной форме должно воспроизводиться уведомление об авторских правах,
.\"    этот список условий и следующий ниже отказ от ответственности в
.\"    документации и/или других материалах, поставляемых с дистрибутивом.
.\" 
.\" ДАННОЕ ПРОГРАММНОЕ ОБЕСПЕЧЕНИЕ ПРЕДОСТАВЛЯЕТСЯ ПРАВООБЛАДАТЕЛЯМИ И СОАВТОРАМИ ``КАК ЕСТЬ'', И 
.\" МЫ ОТКАЗЫВАЕМСЯ ОТ ЛЮБЫХ ПОДРАЗУМЕВАЕМЫХ ОБЯЗАТЕЛЬСТВ, ВКЛЮЧАЯ, НО НЕ ОГРАНИЧИВАЯСЬ, 
.\" ПОДРАЗУМЕВАЕМЫЕ ГАРАНТИИ ТОВАРНОЙ ПРИГОДНОСТИ И НЕПРИГОДНОСТИ ДЛЯ ОПРЕДЕЛЕННОЙ
.\" ЦЕЛИ. НИ В КОЕМ СЛУЧАЕ ПРАВООБЛАДАТЕЛИ ИЛИ СОВАТОРЫ НЕ НЕСУТ ОТВЕТСТВЕННОСТИ
.\" ЗА ЛЮБЫЕ ПРЯМЫЕ, КОСВЕННЫЕ, СЛУЧАЙНЫЕ, ОСОБЫЕ, ПОКАЗАТЕЛЬНЫЕ ИЛИ ЛОГИЧЕСКИ ВЫТЕКАЮЩИЕ
.\" УБЫТКИ (ВКЛЮЧАЯ, НО НЕ ОГРАНИЧИВАЯСЬ ИМИ, ПРИОБРЕТЕНИЕ ЗАМЕНЯЮЩИХ ТОВАРОВ ИЛИ УСЛУГ;
.\" ПОТЕРЮ ВОЗМОЖНОСТИ ИСПОЛЬЗОВАНИЯ, ДАННЫХ ИЛИ ПРИБЫЛИ; ИЛИ ПРЕКРАЩЕНИЕ ДЕЯТЕЛЬНОСТИ)
.\" НЕЗАВИСИМО ОТ ПРИЧИНЕННОГО УЩЕРБА И НА ОСНОВАНИИ ЛЮБОЙ ТЕОРИИ ОТВЕТСТВЕННОСТИ, БУДЬ ТО В РАМКАХ КОНТРАКТА, 
.\" ПРЯМОЙ ОТВЕТСТВЕННОСТИ ИЛИ ДЕЛИКТА (ВКЛЮЧАЯ ХАЛАТНОСТЬ ИЛИ ИНОЕ), ВОЗНИКШЕГО КАКИМ-ЛИБО ОБРАЗОМ
.\" В РЕЗУЛЬТАТЕ ИСПОЛЬЗОВАНИЯ ДАННОГО ПРОГРАММНОГО ОБЕСПЕЧЕНИЯ, ДАЖЕ ЕСЛИ ВЫ БЫЛИ ОСВЕДОМЛЕНЫ О ВОЗМОЖНОСТИ
.\" ТАКОГО УЩЕРБА.
.\"
.Dd 13 сентября, 2010 год
.Dt PLOCKSTAT 1
.Os
.Sh НАЗВАНИЕ
.Nm plockstat
.Nd Trace pthread lock statistics using DTrace
.Sh СИНТАКСИС
.Nm
.Op Fl vACHV
.Op Fl n Ar количество
.Op Fl s Ar глубина
.Op Fl e Ar секунды
.Op Fl x Ar опция Ns = Ns Ar значение
.Ar команда
.Op arg...
.Nm
.Op Fl vACHV
.Op Fl n Ar количество
.Op Fl s Ar глубина
.Op Fl e Ar секунды
.Op Fl x Ar опция Ns = Ns Ar значение
.Fl p Ar идентификатор_процесса
.Sh DESCRIPTION
Утилита
.Nm
отслеживает блокировки POSIX поток (мьютексы и читатель-писатель блокировки) и печатает статистику о
них.
Вы можете использовать
.Nm
для исследования боттлнеков в вашем программном обеспечении.
.Pp
Доступны следующие опции:
.Bl -tag -width indent
.It Fl v
Подробный вывод.
.It Fl A
Печатать всю статистику.
.It Fl C
Печатать совокупную статистику (по умолчанию).
.It Fl H
Печатать гистограмму.
Печатать скрипт DTrace, который будет использоваться в стандартном потоке ошибок.
.It Fl n Ar количество
Установить количество агрегации для набора данных.
.It Fl s Ar глубина
Установить глубину вызова ustack (стек в пользовательском пространстве).
.It Fl e Ar секунды
В данный момент ничего не делает.
.It Fl x Ar опция Ns = Ns Ar значение
Указать опции DTrace.
Смотрите
.Xr dtrace 1
страницу руководства для получения дополнительной информации.
.El
.Sh СТАТУС ЗАВЕРШЕНИЯ
.Ex -std
.Sh СМОТРИТЕ ТАКЖЕ
.Xr dtrace 1 ,
.Xr pthread 3
.Sh ИСТОРИЯ
Утилита
.Nm
происходит от OpenSolaris и впервые была импортирована в
.Fx 9.0 .
