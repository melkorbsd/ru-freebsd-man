.\"-
.\" Copyright (c) 1980, 1990, 1991, 1993, 1994
.\"	Ректоры Калифорнийского университета. Все права защищены.
.\"
.\" Распространение и использование в исходном коде и двоичной форме, с использованием или без использования
.\" модификаций, если следующие условия
.\" соблюдаются:
.\" 1. При распространении исходного кода должно сохраняться вышеуказанное уведомление
.\"    об авторских правах, этот список условий и следующий дисклеймер.
.\" 2. При распространиении в двоичной форме должно воспроизводиться уведомление об авторских правах,
.\"    этот список условий и следующий ниже отказ от ответственности в
.\"    документации и/или других материалах, поставляемых с дистрибутивом.
.\" 3. Ни название университета, ни имена его участников не могут быть использованы для
.\"    поддержки или продвижения продуктов, созданных на основе данного программного обеспечения,
.\"    без специального предварительного письменного согласия.
.\"
.\" ДАННОЕ ПРОГРАММНОЕ ОБЕСПЕЧЕНИЕ ПРЕДОСТАВЛЯЕТСЯ APPLE И СОАВТОРАМИ ``КАК ЕСТЬ'', И 
.\" МЫ ОТКАЗЫВАЕМСЯ ОТ ЛЮБЫХ ПОДРАЗУМЕВАЕМЫХ ОБЯЗАТЕЛЬСТВ, ВКЛЮЧАЯ, НО НЕ ОГРАНИЧИВАЯСЬ, 
.\" ПОДРАЗУМЕВАЕМЫЕ ГАРАНТИИ ТОВАРНОЙ ПРИГОДНОСТИ И НЕПРИГОДНОСТИ ДЛЯ ОПРЕДЕЛЕННОЙ
.\" ЦЕЛИ. НИ В КОЕМ СЛУЧАЕ ПРАВООБЛАДАТЕЛИ ИЛИ СОВАТОРЫ НЕ НЕСУТ ОТВЕТСТВЕННОСТИ
.\" ЗА ЛЮБЫЕ ПРЯМЫЕ, КОСВЕННЫЕ, СЛУЧАЙНЫЕ, ОСОБЫЕ, ПОКАЗАТЕЛЬНЫЕ ИЛИ ЛОГИЧЕСКИ ВЫТЕКАЮЩИЕ
.\" УБЫТКИ (ВКЛЮЧАЯ, НО НЕ ОГРАНИЧИВАЯСЬ ИМИ, ПРИОБРЕТЕНИЕ ЗАМЕНЯЮЩИХ ТОВАРОВ ИЛИ УСЛУГ;
.\" ПОТЕРЮ ВОЗМОЖНОСТИ ИСПОЛЬЗОВАНИЯ, ДАННЫХ ИЛИ ПРИБЫЛИ; ИЛИ ПРЕКРАЩЕНИЕ ДЕЯТЕЛЬНОСТИ)
.\" НЕЗАВИСИМО ОТ ПРИЧИНЕННОГО УЩЕРБА И НА ОСНОВАНИИ ЛЮБОЙ ТЕОРИИ ОТВЕТСТВЕННОСТИ, БУДЬ ТО В РАМКАХ КОНТРАКТА, 
.\" ПРЯМОЙ ОТВЕТСТВЕННОСТИ ИЛИ ДЕЛИКТА (ВКЛЮЧАЯ ХАЛАТНОСТЬ ИЛИ ИНОЕ), ВОЗНИКШЕГО КАКИМ-ЛИБО ОБРАЗОМ
.\" В РЕЗУЛЬТАТЕ ИСПОЛЬЗОВАНИЯ ДАННОГО ПРОГРАММНОГО ОБЕСПЕЧЕНИЯ, ДАЖЕ ЕСЛИ ВЫ БЫЛИ ОСВЕДОМЛЕНЫ О ВОЗМОЖНОСТИ
.\" ТАКОГО УЩЕРБА.
.\"
.\"     @(#)ps.1	8.3 (Berkeley) 4/18/94
.\"
.Dd 24 августа, 2023 год
.Dt PS 1
.Os
.Sh НАЗВАНИЕ
.Nm ps
.Nd process status
.Sh СИНТАКСИС
.Nm
.Op Fl -libxo
.Op Fl aCcdefHhjlmrSTuvwXxZ
.Op Fl O Ar утилита_форматирования_текста | Fl o Ar утилита_форматирования_текста
.Op Fl D Ar up | down | both
.Op Fl G Ar идентификатор_группы Ns Op , Ns Ar идентификатор_группы Ns Ar ...
.Op Fl J Ar идентификатор_задачи Ns Op , Ns Ar идентификатор задачи Ns Ar ...
.Op Fl M Ar ядро
.Op Fl N Ar система
.Op Fl p Ar идентификатор_процесса Ns Op , Ns Ar идентификатор_процесса Ns Ar ...
.Op Fl t Ar терминал Ns Op , Ns Ar терминал Ns Ar ...
.Op Fl U Ar пользователь Ns Op , Ns Ar пользователь Ns Ar ...
.Nm
.Op Fl -libxo
.Fl L
.Sh ОПИСАНИЕ
Утилита 
.Nm
отображает 
заголовочную строку, за которой следуют строки с информацией обо
всех ваших 
процессах, имеющих управляющие терминалы. 
Если опция
.Fl x
указана,
.Nm
также покажет процессы, не имеющие управляющих терминалов.
.Pp
Для отображения можно выбрать другой набор процессов, используя любую комбинацию
.Fl a , G , J , p , T , t ,
и
.Fl U
опций.
Если задано более одной из этих опций, то
.Nm
выберет все процессы, которые соответствуют хотя бы одному из 
указанных параметров.
.Pp
Для процессов, выбранных для отображения,
.Nm
обычно отображает одну строку на процесс.
Опция
.Fl H
может привести к выводу нескольких строк (по одной строке на поток) для 
некоторых процессов. 
По умолчанию все эти строки вывода сортируются сначала по управляющему
терминалу, затем по ID процесса.
Опции
.Fl m , r , u ,
и
.Fl v
изменяют порядок сортировки.
Если было указано более одной опции сортировки, то выбранные процессы
будут отсортированы по последней опции сортировки, которая будет указана.
.Pp
Для процессов, выбранных для отображения, информация 
для отображения выбирается на основе набора ключевых слов (смотрите
.Fl L , O ,
и
.Fl o
опции).
Формат вывода по умолчанию включает для каждого процесса ID процесса,
управляющий терминал, состояние, время ЦПУ (включая как пользовательское, так и системное время) 
и ассоциированную команду.
.Pp
Если процесс
.Nm
ассоциирован с терминалом, ширина вывода по умолчанию соответствует ширине 
терминала; в противном случае ширина вывода не ограничена.
Смотрите также
.Fl w
опцию.
.Pp
Поддерживаемые опции:
.Bl -tag -width indent
.It Fl -libxo
Генерирует вывод через
.Xr libxo 3
в различных форматах, удобных для чтения людьми и машинами.
Смотрите
.Xr xo_parse_args 3
для получения подробной информации об аргументах командной строки.
.It Fl a
Отображает информацию о процессах других пользователей, а также о своих.
Если sysctl
.Va security.bsd.see_other_uids
установлен в ноль, эта опция учитывается только если UID пользователя равен 0.
.It Fl c
Изменяет вывод столбца
.Dq command
так, чтобы он содержал только имя исполняемого файла,
а не полную командную строку.
.It Fl C
Изменяет способ расчета процентного соотношения ЦПУ, используя
.Dq raw
расчет ЦПУ, который игнорирует
.Dq resident
время (обычно это не имеет
эффекта).
.It Fl d
Упорядочивает процессы в порядке наследования и добавляет перед каждой командой текст с
отступом, показывающим отношения между родственными, а также родительскими и дочерними процессами в виде дерева.
Если также используются опции
.Fl m
и
.Fl r
они управляют порядком сортировки родственных процессов 
относительно друг друга.
 Обратите внимание, что эта опция не действует, если столбец 
.Dq command
не является последним отображаемым столбцом.
.It Fl D
Расширяет список выбранных процессов на основе дерева процессов.
.Dq UP
добавляе процессы-предки,
.Dq DOWN
добавляет процессы-потомки, и
.Dq BOTH
добавляет и предков, и потомков.
.Fl D
не подразумевает
.Fl d ,
но хорошо работает с ним.
.It Fl e
Отображает также окружение.
.It Fl f
Показать информацию о командной строке и окружении для процессов, которые были выгружены.
Эта опция действует только если ID пользователя равен 0.
.It Fl G
Отображает информацию о процессах, которые выполняются с указанными 
реальными ID групп.
.It Fl H
Показывает все потоки, связанные с каждым процессом.
.It Fl h
Повторяет заголовок информации столько раз, сколько необходимо, чтобы гарантировать один 
заголовок на страницу информации.
.It Fl j
Выводит информации о процессах, соответствующих указанным идентификаторам
.Cm user , pid , ppid , pgid , sid , jobc , state , tt , time ,
и
.Cm command .
.It Fl J
Отображает информацию о процессах, соответствующих указанным ID джэйла
Это может быть либо
.Cm jid
или
.Cm name
джэйла.
Используйте
.Fl J
.Sy 0
для отображения только процессов хоста.
Этот флаг по умолчанию подразумевает
.Fl x
по умолчанию
.It Fl L
Преречисляет список доступных ключевых слов для опций
.Fl O
и
.Fl o
опций.
.It Fl l
Отображает информацию, связанную со следующими ключевыми словами:
.Cm uid , pid , ppid , cpu , pri , nice , vsz , rss , mwchan , state ,
.Cm tt , time ,
и
.Cm command .
.It Fl M
Извлекает значения, связанные со списком имен из указанного ядра,
вместо текущей работающей системы.
.It Fl m
Сортирует по использованию памяти, вместо комбинации управляющего
терминала и ID процесса.
.It Fl N
Извлекает список имен из указанной системы вместо стандартной,
которая является образом ядра, с которого система была загружена.
.It Fl O
Добавляет информацию, связанную с разделённым пробелом или запятой
списком ключевых слов, указанным после ID процесса,
в стандартное отображение 
информации.
Ключевые слова могут быть дополнены знаком равенства
.Pq Ql =
и строкой.
Это заставляет печатаемый заголовок использовать указанную строку вместо
стандартного заголовка.
.It Fl o
Отображает информацию, связанную с указанным списком ключевых слов,
разделённым пробелом или запятой.
Последнее ключевое слово в списке может быть дополнено знаком равенства
.Pq Ql =
и строкой, которая охватывает остальную часть аргумента и может содержать
пробелы и запятые.
Это заставляет печатаемый заголовок использовать указанную строку вместо
стандартного заголовка.
Несколько ключевых слов также могут быть указаны в форме более чем одной
.Fl o
опции.
Таким образом, тексты заголовков для нескольких ключевых слов могут быть изменены.
Если все ключевые слова имеют пустые тексты заголовков, то строка заголовка не пишется.
.It Fl p
Отображает информацию о процессах, соответствующих указанным ID процессов.
.It Fl r
Сортирует по текущему использованию ЦПУ, вместо комбинации управляющего
терминала и ID процесса.
.It Fl S
Изменяет способ расчёта времени процессов, а именно время_цпу, системное_время и время_пользователя,
путём суммирования всех завершённых дочерних процессов к их родительскому процессу.
.It Fl T
Отображает информацию о процессах, прикреплённых к устройству, связанному
со стандартным вводом.
.It Fl t
Отображает информацию о процессах, прикреплённых к указанным терминальным
устройствам.
Полные пути, а также сокращения (смотрите объяснение ключевого слова
.Cm tt )
Могут быть указаны.
.It Fl U
Отображает процессы, принадлежащие указанным именам пользователя.
.It Fl u
Отображает информацию, связанную со следующими ключевыми словами:
.Cm user , pid , %cpu , %mem , vsz , rss , tt , state , start , time ,
и
.Cm command .
Опция
.Fl u
подразумевает
.Fl r
опцию.
.It Fl v
Отображает информацию, связанную со следующими ключевыми словами:
.Cm pid , state , time , sl , re , pagein , vsz , rss , lim , tsiz ,
.Cm %cpu , %mem ,
и
.Cm command .
Опция
.Fl v
подразумевает
.Fl m
опцию.
.It Fl w
Используйте по крайней мере 132 столбца для отображения информации, вместо стандартного, который
является размером окна, если
.Nm
ассоциирован с терминалом.
Если опция
.Fl w
указана более одного раза,
.Nm
будет использовать столько столбцов, сколько необходимо, без учёта размера окна.
Обратите внимание, что эта опция не имеет эффекта, если столбец
.Dq command
не является последним отображаемым столбцом.
.It Fl X
При отображении процессов, соответствующих другим опциям, пропускает любые процессы,
которые не имеют управляющего терминала.
Это стандартное поведение.
.It Fl x
При отображении процессов, соответствующих другим опциям, включает процессы,
которые не имеют управляющего терминала.
Это противоположно
.Fl X
опции.
Если обе опции
.Fl X
и
.Fl x
указаны в одной команде, то
.Nm
использует ту, которая была указана последней.
.It Fl Z
Добавляет метку
.Xr mac 4
в список ключевых слов, для которых
.Nm
будет отображать информацию.
.El
.Pp
Полный список доступных ключевых слов приведен ниже.
Некоторые из этих ключевых слов дополнительно уточняются следующим образом:
.Bl -tag -width lockname
.It Cm %cpu
Использование ЦПУ процессом; это среднее значение с точностью до
минуты за предыдущее (реальное) время.
Поскольку временная база, на основе которой это вычисляется, варьируется (поскольку процессы могут
быть очень молодыми), возможно, что сумма всех полей
.Cm %cpu
может превышать 100%.
.It Cm %mem
Процент реальной памяти, используемой этим процессом.
.It Cm class
Класс входа, связанный с процессом.
.It Cm flags
Флаги, связанные с процессом, как в
файле
.In sys/proc.h :
.Bl -column P_SINGLE_BOUNDARY 0x40000000
.It Dv "P_ADVLOCK" Ta No "0x00001" Ta "Process may hold a POSIX advisory lock"
.It Dv "P_CONTROLT" Ta No "0x00002" Ta "Has a controlling terminal"
.It Dv "P_KPROC" Ta No "0x00004" Ta "Kernel process"
.It Dv "P_PPWAIT" Ta No "0x00010" Ta "Parent is waiting for child to exec/exit"
.It Dv "P_PROFIL" Ta No "0x00020" Ta "Has started profiling"
.It Dv "P_STOPPROF" Ta No "0x00040" Ta "Has thread in requesting to stop prof"
.It Dv "P_HADTHREADS" Ta No "0x00080" Ta "Has had threads (no cleanup shortcuts)"
.It Dv "P_SUGID" Ta No "0x00100" Ta "Had set id privileges since last exec"
.It Dv "P_SYSTEM" Ta No "0x00200" Ta "System proc: no sigs, stats or swapping"
.It Dv "P_SINGLE_EXIT" Ta No "0x00400" Ta "Threads suspending should exit, not wait"
.It Dv "P_TRACED" Ta No "0x00800" Ta "Debugged process being traced"
.It Dv "P_WAITED" Ta No "0x01000" Ta "Someone is waiting for us"
.It Dv "P_WEXIT" Ta No "0x02000" Ta "Working on exiting"
.It Dv "P_EXEC" Ta No "0x04000" Ta "Process called exec"
.It Dv "P_WKILLED" Ta No "0x08000" Ta "Killed, shall go to kernel/user boundary ASAP"
.It Dv "P_CONTINUED" Ta No "0x10000" Ta "Proc has continued from a stopped state"
.It Dv "P_STOPPED_SIG" Ta No "0x20000" Ta "Stopped due to SIGSTOP/SIGTSTP"
.It Dv "P_STOPPED_TRACE" Ta No "0x40000" Ta "Stopped because of tracing"
.It Dv "P_STOPPED_SINGLE" Ta No "0x80000" Ta "Only one thread can continue"
.It Dv "P_PROTECTED" Ta No "0x100000" Ta "Do not kill on memory overcommit"
.It Dv "P_SIGEVENT" Ta No "0x200000" Ta "Process pending signals changed"
.It Dv "P_SINGLE_BOUNDARY" Ta No "0x400000" Ta "Threads should suspend at user boundary"
.It Dv "P_HWPMC" Ta No "0x800000" Ta "Process is using HWPMCs"
.It Dv "P_JAILED" Ta No "0x1000000" Ta "Process is in jail"
.It Dv "P_TOTAL_STOP" Ta No "0x2000000" Ta "Stopped for system suspend"
.It Dv "P_INEXEC" Ta No "0x4000000" Ta Process is in Xr execve 2
.It Dv "P_STATCHILD" Ta No "0x8000000" Ta "Child process stopped or exited"
.It Dv "P_INMEM" Ta No "0x10000000" Ta "Loaded into memory"
.It Dv "P_SWAPPINGOUT" Ta No "0x20000000" Ta "Process is being swapped out"
.It Dv "P_SWAPPINGIN" Ta No "0x40000000" Ta "Process is being swapped in"
.It Dv "P_PPTRACE" Ta No "0x80000000" Ta "Vforked child issued ptrace(PT_TRACEME)"
.El
.It Cm flags2
Флаги, хранящиеся в
.Va p_flag2
ассоциированы с процессом, как во
включаемом файле
.In sys/proc.h :
.Bl -column P2_INHERIT_PROTECTED 0x00000001
.It Dv "P2_INHERIT_PROTECTED" Ta No "0x00000001" Ta "New children get P_PROTECTED"
.It Dv "P2_NOTRACE" Ta No "0x00000002" Ta "No" Xr ptrace 2 attach or coredumps
.It Dv "P2_NOTRACE_EXEC" Ta No "0x00000004" Ta Keep P2_NOPTRACE on Xr execve 2
.It Dv "P2_AST_SU" Ta No "0x00000008" Ta "Handles SU ast for kthreads"
.It Dv "P2_PTRACE_FSTP" Ta No "0x00000010" Ta "SIGSTOP from PT_ATTACH not yet handled"
.El
.It Cm label
Метка мандатного управления доступом процесса.
.It Cm lim
Мягкий лимит на использованную память, задается через вызов
.Xr setrlimit 2 .
.It Cm lstart
Точное время начала команды, используя формат
.Ql %c
описанный в
.Xr strftime 3 .
.It Cm lockname
Имя блокировки, на которой в данный момент заблокирован процесс.
Если имя недействительно или неизвестно, тогда
.Dq ???\&
отображается.
.It Cm logname
Имя пользователя, связанное с сессией, в которой находится процесс (смотрите
.Xr getlogin 2 ) .
.It Cm mwchan
Имя события, если процесс заблокирован обычным образом, или имя блокировки, если
процесс заблокирован на блокировке.
Смотрите ключевые слова wchan и lockname
для для получения подробной информации.
.It Cm nice
Приращение планирования процесса (смотрите
.Xr setpriority 2 ) .
.It Cm rss
реальный размер памяти (набор резидентов) процесса (в единицах 1024 байт).
.It Cm start
Время начала команды.
Если команда была запущена менее 24 часов назад, время начала отображается используя,
формат
.Dq Li %H:%M ,
описанный в
.Xr strftime 3 .
Если команда была запущена менее 7 дней назад, время начала отображается, используя
.Dq Li %a%H
формат.
В противном случае, время начала отображается, используя
.Dq Li %e%b%y
формат.
.It Cm state
Состояние обозначается последовательностью символов, например,
.Dq Li RWNA .
Первый символ указывает состояние выполнения процесса:
.Pp
.Bl -tag -width indent -compact
.It Li D
Marks a process in disk (or other short term, uninterruptible) wait.
.It Li I
Обозначает процесс в режиме ожидания (спящий более чем 20 секунд).
.It Li L
Обозначает процесс, ожидающий получения блокировки.
.It Li R
Обозначает исполняемый процесс.
.It Li S
Обозначает процесс, который спит менее 20 секунд.
.It Li T
Обозначает остановленный процесс.
.It Li W
Обозначает простаивающий поток прерывания.
.It Li Z
Обозначает мертвый процесс (так называемый
.Dq zombie ) .
.El
.Pp
Дополнительные символы после этих, если они есть, указывают дополнительную
информацию о состоянии:
.Pp
.Bl -tag -width indent -compact
.It Li +
Процесс находится в группе процессов переднего плана своего управляющего терминала.
.It Li <
Процесс получил повышенный приоритет планирования ЦПУ.
.It Li C
Процесс находится в режиме возможностей
.Xr capsicum 4
режиме возможностей.
.It Li E
Процесс пытается завершиться.
.It Li J
Обозначает процесс, который находится в
.Xr jail 2 .
Имя хоста джэйла можно найти в
.Pa /proc/ Ns Ao Ar pid Ac Ns Pa /status .
.It Li L
У процесса есть страницы, заблокированные в ядре (например, для сырого ввода/вывода).
.It Li N
У процесса снижен приоритет планирования ЦПУ (смотрите
.Xr setpriority 2 ) .
.It Li s
Процесс является лидером сессии.
.It Li V
Родительский процесс приостановлен во время выполнения
.Xr vfork 2 ,
ожидая выполнения exec или выхода процесса.
.It Li W
Процесс выгружен из памяти.
.It Li X
Процесс отслеживается или отлаживается.
.El
.It Cm tt
Сокращение для полного пути управляющего терминала, если таковой имеется.
Сокращение состоит из трех букв, следующих за
.Pa /dev/tty ,
или, для псевдотерминалов, соответствующей записи в
.Pa /dev/pts .
За этим следует символ , если процесс больше не может достичь этого управляющего терминала (то есть, он был отозван).
.Ql - ,
если процесс больше не может достичь этого
управляющего терминала (то есть, он был отозван).
Тег
.Ql -
без предшествующего двухбуквенного сокращения или номера устройства псевдотерминала
указывает на процесс, который никогда не имел управляющего терминала.
Полный имя пути управляющего терминала доступен через ключевое слово
.Cm tty
keyword.
.It Cm wchan
Событие (адрес в системе), на котором процесс ожидает.
При численном выводе начальная часть адреса отсекается,
и результат выводится в шестнадцатеричном формате, например, 0x80324000 выводится
как 324000.
.El
.Pp
При выводе с использованием ключевого слова command, процесс, который завершился и
имеет родителя, который еще не ожидал этот процесс (другими словами, зомби),
перечисляется как
.Dq Li <defunct> ,
и процесс, который блокируется при попытке
выхода, перечисляется как
.Dq Li <exiting> .
Если аргументы не могут быть найдены (обычно потому, что они не были установлены, как это
бывает с системными процессами и/или потоками ядра), имя команды выводится
в квадратных скобках.
Утилита
.Nm
сначала пытается получить аргументы, кэшированные ядром (если они были
короче значения
.Va kern.ps_arg_cache_limit
sysctl).
Процесс может изменить аргументы, показанные с помощью
.Xr setproctitle 3 .
В противном случае,
.Nm
делает обоснованное предположение о названии файла и аргументах, заданных при
создании процесса путём анализа памяти или области подкачки.
Этот метод по своей сути несколько ненадёжен, и в любом случае процесс
имеет право уничтожить эту информацию.
На ключевое слово ucomm (учёт), однако, можно полагаться.
Если аргументы недоступны или не согласуются с ключевым словом ucomm,
то значение для ключевого слова ucomm добавляется к аргументам в скобках.
.Sh КЛЮЧЕВЫЕ СЛОВА
Ниже приведён полный список доступных ключевых слов и их 
значений.
Некоторые из них имеют алиасы (синонимы ключевых слов).
.Pp
.Bl -tag -width ".Cm sigignore" -compact
.It Cm %cpu
процентное использование ЦПУ (алиас
.Cm pcpu )
.It Cm %mem
percentage memory usage (alias
.Cm pmem )
.It Cm acflag
процентное использование памяти (алиас
.Cm acflg )
.It Cm args
команда и аргументы
.It Cm class
класс логина
.It Cm comm
команда
.It Cm command
команда и аргументы
.It Cm cow
количество ошибок копирования при записи
.It Cm cpu
номер процессора, на котором выполняется процесс (виден только на СМП 
системах)
.It Cm dsiz
размер данных (в килобайтах)
.It Cm emul
среда эмуляции системных вызовов (ABI)
.It Cm etime
прошедшее время выполнения, формат
.Do
.Op days- Ns
.Op hours\&: Ns
минуты:секунды
.Dc
.It Cm etimes
elapsed running time, in decimal integer seconds
прошедшее время выполнения, в целых десятичных секундах
.It Cm fib
стандартный номер FIB, смотрите
.Xr setfib 1
.It Cm flags
флаги процесса, в шестнадцатеричном формате (алиас
.Cm f )
.It Cm flags2
дополнительный набор флагов процесса, в шестнадцатеричном формате (алиас
.Cm f2 )
.It Cm gid
эффективный ID группы (алиас
.Cm egid )
.It Cm group
название группы (из egid) (алиас
.Cm egroup )
.It Cm inblk
общее количество прочитанных блоков (алиас
.Cm inblock )
.It Cm jail
имя джэйла
.It Cm jid
ID джэйла
.It Cm jobc
счётчик управления заданиями
.It Cm ktrace
флаги трассировки
.It Cm label
метка мандатного контроля доступа
.It Cm lim
ограничение использования памяти
.It Cm lockname
lимя блокировки, на которой в данный момент происходит блокирование (как символическое имя)
.It Cm logname
логин пользователя, начавшего сессию
.It Cm lstart
время начала
.It Cm lwp
ID потока (легковесного процесса) (алиас
.Cm tid )
.It Cm majflt
общее количество ошибок страниц
.It Cm minflt
общее количество восстановлений страниц
.It Cm msgrcv
общее количество полученных сообщений (чтения из пайпов/сокетов)
.It Cm msgsnd
общее количество отправленных сообщений (записи в пайпы/сокеты)
.It Cm mwchan
канал ожидания или блокировка, на которой в данный момент происходит блокирование
.It Cm nice
значение nice (алиас
.Cm ni )
.It Cm nivcsw
общее количество недобровольных переключений контекста
.It Cm nlwp
количество потоков (легковесных процессов), связанных с процессом
.It Cm nsigs
общее количество принятых сигналов (алиас
.Cm nsignals )
.It Cm nswap
общее количество операций свопинга ввода/вывода
.It Cm nvcsw
общее количество добровольных переключений контекста
.It Cm nwchan
канал ожидания (как адрес)
.It Cm oublk
общее количество записанных блоков (алиас
.Cm oublock )
.It Cm paddr
указатель на процесс
.It Cm pagein
pageins (same as majflt)
.It Cm pgid
номер группы процессов
.It Cm pid
ID процесса
.It Cm ppid
ID родительского процесса
.It Cm pri
приоритет планирования
.It Cm re
время пребывания в ядре (в секундах; 127 = бесконечность)
.It Cm rgid
реальный ID группы
.It Cm rgroup
название группы (из rgid)
.It Cm rss
размер резидентного набора
.It Cm rtprio
приоритет в реальном времени (смотрите
.Xr rtprio 1)
.It Cm ruid
реальный ID пользователя
.It Cm ruser
имя пользователя (из ruid)
.It Cm sid
ID сессии
.It Cm sig
ожидающие сигналы (алиас
.Cm pending )
.It Cm sigcatch
перехваченные сигналы (алиас
.Cm caught )
.It Cm sigignore
игнорируемые сигналы (алиас
.Cm ignored )
.It Cm sigmask
заблокированные сигналы (алиас
.Cm blocked )
.It Cm sl
время сна (в секундах; 127 = бесконечность)
.It Cm ssiz
размер стека (в килобайтах)
.It Cm start
время начала
.It Cm state
символическое состояние процесса (алиас
.Cm stat )
.It Cm svgid
сохранённый ID группы из исполняемого файла с setgid
.It Cm svuid
saved UID from a setuid executable
сохранённый ID пользователя из исполняемого файла с setuid
.It Cm systime
накопленное системное время ЦПУ
.It Cm tdaddr
адрес потока
.It Cm tdname
название потока
.It Cm tdev
номер устройства управляющего терминала
.It Cm time
накопленное время ЦПУ, пользовательское + системное (алиас
.Cm cputime )
.It Cm tpgid
ID группы процессов управляющего терминала
.It Cm tracer
ID процесса трассировщика
.\".It Cm trss
.\"text resident set size (in Kbytes)
.It Cm tsid
ID сессии управляющего терминала
.It Cm tsiz
размер текста (в килобайтах)
.It Cm tt
имя управляющего терминала (аббревиатура из двух букв)
.It Cm tty
полное имя управляющего терминала
.It Cm ucomm
имя, используемое для учёта
.It Cm uid
эффективный ID пользователя (алиас
.Cm euid )
.It Cm upr
приоритет планирования при возврате из системного вызова (алиас
.Cm usrpri )
.It Cm uprocp
указатель процесса
.It Cm user
имя пользователя (из ID пользователя)
.It Cm usertime
накопленное пользовательское время ЦПУ
.It Cm vmaddr
указатель на пространство виртуальной памяти
.It Cm vsz
виртуальный размер в килобайтах (алиас
.Cm vsize )
.It Cm wchan
канал ожидания (в символическом имени)
.It Cm xstat
статус выхода или остановки (действителен только для остановленных или зомби-процессов)
.El
.Pp
Обратите внимание, что столбец
.Cm pending
отображает битовую маску сигналов, ожидающих в очереди процесса, когда опция
.Fl H
не указана, в противном случае очередь ожидающих сигналов для каждого потока
показывается.
.Sh ОКРУЖЕНИЕ
Следующие переменные окружения влияют на выполнение
.Nm :
.Bl -tag -width ".Ev COLUMNS"
.It Ev COLUMNS
Если установлено, указывает предпочтительную ширину вывода пользователя в позициях столбцов.
По умолчанию,
.Nm
пытается автоматически определить ширину терминала.
.El
.Sh FILES
.Bl -tag -width ".Pa /boot/kernel/kernel" -compact
.It Pa /boot/kernel/kernel
стандартный список имен системы
.El
.Sh СТАТУС ЗАВЕРШЕНИЯ
.Ex -std
.Sh ПРИМЕРЫ
Отображение информации обо всех системных процессах:
.Pp
.Dl $ ps -auxw
.Sh СМОТРИТЕ ТАКЖЕ
.Xr kill 1 ,
.Xr pgrep 1 ,
.Xr pkill 1 ,
.Xr procstat 1 ,
.Xr w 1 ,
.Xr kvm 3 ,
.Xr libxo 3 ,
.Xr strftime 3 ,
.Xr xo_parse_args 3 ,
.Xr mac 4 ,
.Xr procfs 5 ,
.Xr pstat 8 ,
.Xr sysctl 8 ,
.Xr mutex 9
.Sh СТАНДАРТЫ
По историческим причинам, утилита
.Nm
в
.Fx
поддерживает другой набор опций, отличный от описанного в
.St -p1003.2 ,
и от того, что поддерживается в
.No non- Ns Bx
операционных системах.
.Sh ИСТОРИЯ
Команда
.Nm
появилась в 
.At v3
в 8 разделе мануала.
.Sh БАГИ
Поскольку
.Nm
не может работать быстрее системы и выполняется как любой другой запланированный
процесс, информация, которую он отображает, никогда не может быть точной.
.Pp
Утилита
.Nm
некорректно отображает списки аргументов, содержащих многобайтовые
символы.
