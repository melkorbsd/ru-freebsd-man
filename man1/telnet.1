.\" Copyright (c) 1983, 1990, 1993
.\"	The Regents of the University of California.  All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"	@(#)telnet.1	8.6 (Berkeley) 6/1/94
.\" $FreeBSD$
.\"
.Dd 29 сентября, 2022
.Dt TELNET 1
.Os
.Sh ИМЯ
.Nm telnet
.Nd пользовательский интерфейс для
.Tn TELNET
протокола
  .Sh СИНТАКСИС
.Nm
.Op Fl 468EFKLNQacdfruxy
.Op Fl B Ar baudrate
.Op Fl S Ar tos
.Op Fl X Ar authtype
.Op Fl e Ar escapechar
.Op Fl k Ar realm
.Op Fl l Ar user
.Op Fl n Ar tracefile
.Op Fl s Ar src_addr
.Op Fl P Ar policy
.Oo
.Ar host
.Op Ar port
.Oc
.Sh ОПИСАНИЕ
Команда
.Nm
command
используется для связи с другим хостом с использованием
.Tn TELNET
протокола.
Если
.Nm
вызывается без
.Ar host
аргумента, она входит в режим команд,
указанный своим приглашением
.Pq Dq Li telnet\&> .
В этом режиме она принимает и выполняет перечисленные ниже команды.
Если она вызывается с аргументами, она выполняет 
.Ic open
команду с этими аргументами.
.Pp
Опции:
.Bl -tag -width indent
.It Fl 4
Принудительно заставляет
.Nm
использовать только адреса IPv4.
.It Fl 6
Принудительно заставляет
.Nm
использовать только адреса IPv6.
.It Fl 8
Указывает 8-битный путь данных.
Это вызывает попытку 
согласования
.Dv TELNET BINARY
опции как на вводе, так и на выводе.
.It Fl B Ar baudrate
Устанавливает скорость передачи данных в
.Ar baudrate .
.It Fl E
Предотвращает распознавание любого символа как символа экранирования.
.It Fl F
Если используется аутентификация Kerberos V5, 
.Fl F
опция позволяет перенаправить локальные учетные данные на 
удаленную систему, включая любые учетные данные, которые уже были 
перенаправлены в локальное окружение.
.It Fl K
Указывает на отсутствие автоматического входа в удаленную систему.
.It Fl L
Указывает 8-битный путь данных на выводе.
Это вызывает
.Dv BINARY
согласование опции на выводе.
.It Fl N
Предотвращает преобразование IP-адреса в имя при указании
IP-адреса целевого хоста.
.It Fl Q
Тихий режим.
Это подавляет сообщения,
.Nm
которые обычно выводит при подключении или отключении.
.It Fl S Ar tos
Устанавливает опцию типа обслуживания IP (TOS) для telnet-соединения 
в значение 
.Ar tos ,
которое может быть числовым значением TOS 
или, на системах, поддерживающих это, символьным 
именем TOS, найденным в
.Pa /etc/iptos
файле.
.It Fl X Ar atype
Отключает
.Ar atype
тип аутентификации.
.It Fl a
Попытка автоматического входа.
Сейчас это значение по умолчанию, поэтому эта опция игнорируется.
В настоящее время это отправляет имя пользователя 
.Ev USER
через
переменную
.Ev ENVIRON
опции, если ее поддерживает удаленная система.
Имя, используемое, является именем текущего пользователя, возвращаемым 
.Xr getlogin 2
если оно совпадает с текущим идентификатором пользователя, 
в противном случае это имя, связанное с идентификатором пользователя.
.It Fl c
Отключает чтение пользователя
.Pa \&.telnetrc
файла.
(Смотри
.Ic toggle skiprc
команду на этой странице руководства.)
.It Fl d
Устанавливает начальное значение
.Ic debug
переключателя в
.Dv TRUE .
.It Fl e Ar escapechar
Устанавливает начальный символ
.Nm
экранирования в символ
.Ar escapechar .
Если
.Ar escapechar
опущен,то
то символ экранирования не будет установлен.
.It Fl f
Если используется аутентификация Kerberos V5, 
.Fl f
опция позволяет перенаправить локальные учетные данные на удаленную систему.
.It Fl k Ar realm
Если используется аутентификация Kerberos,
.Fl k
опция запрашивает,чтобы
.Nm
получить билеты для удаленного хоста 
в области
.Ar realm
вместо области удаленного хоста, определенной
.Xr krb_realmofhost 3 .
.It Fl l Ar user
При подключении к удаленной системе, если удаленная система
понимает
.Ev ENVIRON
опцию,то
.Ar user
будет отправлен на удаленную систему в качестве значения переменной
.Ev USER .
Эта опция подразумевает 
.Fl a
опцию.
Эту опцию также можно использовать с
.Ic open
командой.
.It Fl n Ar tracefile
Открывает
.Ar tracefile
для записи трассировочной информации.
Смотрите
.Ic set tracefile
команду ниже.
.It Fl P Ar policy
Использовать строку спецификации политики IPsec
.Ar policy ,
для соединений.
Смотрите
.Xr ipsec_set_policy 3
для подбробностей.
.It Fl r
Указывает пользовательский интерфейс, аналогичный
.Xr rlogin 1 .
В этом
режиме символ экранирования установлен на символ тильды (~),
если его не изменяет
.Fl e
опция.
.It Fl s Ar src_addr
Устанавливает исходный IP-адрес для
.Nm
соединения на
.Ar src_addr ,
который может быть IP-адресом или именем хоста.
.It Fl u
Принудительно заставляет
.Nm
использовать
.Dv AF_UNIX
только адреса (например,
.Ux
доменные сокеты, доступные по пути к файлу).
.It Fl x
Включает шифрование потока данных, если это возможно.
Сейчас это значение по умолчанию, поэтому эта опция игнорируется.
.It Fl y
Подавляет шифрование потока данных.
.It Ar host
Указывает официальное имя, псевдоним или интернет-адрес
удаленного хоста.
Если
.Ar host
начинается с
.Ql / ,
.Nm
устанавливает соединение с соответствующим именованным сокетом.
.It Ar port
Указывает номер порта (адрес приложения).
Если номер
не указан,используется
.Nm
порт по умолчанию.
.El
.Pp
В режиме rlogin строка вида ~.\& отключает соединение с
удаленным хостом; ~ это
.Nm
символ экранирования.
Аналогично,строка ~^Z приостанавливает
.Nm
сеанс.
Строка ~^] переходит в обычный
.Nm
приглашение на экране.
.Pp
После установления соединения,
.Nm
попытается включить
.Dv TELNET LINEMODE
опцию.
Если это не удается, то
.Nm
вернется к одному из двух режимов ввода:
либо \*(Lqcharacter по символу\*(Rq
либо \*(Lqold по старой строке\*(Rq
в зависимости от того, что поддерживает удаленная система.
.Pp
Когда
.Dv LINEMODE
обработка символов выполняется на 
локальной системе под управлением удаленной системы.
Когда отключается
редактирование ввода или эхо символов, удаленная система
передаст эту информацию.
Удаленная система также передаст
изменения любых специальных символов, происходящих на удаленной 
системе, чтобы они могли вступить в силу на локальной системе.
.Pp
В \*(Lqcharacter по символу\*(Rq mode, большинство
введенного текста немедленно отправляется на удаленный хост для обработки.
.Pp
В \*(Lqold по старой строке\*(Rq mode, весь текст отображается локально,
и (обычно) отправляются только завершенные строки на удаленный хост.
Символ \*(Lqlocal локального эха\*(Rq (изначально \*(Lq^E\*(Rq) можно использовать
для отключения и включения локального эха 
(это, как правило, используется для ввода паролей 
без их отображения).
.Pp
Если
.Dv LINEMODE
включена или если переключатель 
.Ic localchars
установлен в
.Dv TRUE
(по умолчанию для \*(Lqold по старой строке\*(Rq; смотрите ниже),
символы пользователя
.Ic quit ,
.Ic intr ,
и
.Ic flush
захватываются локально и отправляются как последовательности
.Tn TELNET
протокола на удаленную сторону.
Если
.Dv LINEMODE
когда-либо был включен, то символы пользователя
.Ic susp
и
.Ic eof
также отправляются как
.Tn TELNET
последовательности протокола,
а
.Ic quit
отправляется как
.Dv TELNET ABORT
вместо
.Dv BREAK .
Существуют опции (см.
.Ic toggle
.Ic autoflush
и
.Ic toggle
.Ic autosynch
ниже)
которые вызывают сброс последующего вывода на терминале 
(до того, как удаленный хост подтвердит последовательность
.Tn TELNET
протокола) и сброс предыдущего ввода терминала 
(в случае символов
.Ic quit
и
.Ic intr ) .
.Pp
Во время подключения к удаленному хосту
.Nm
режим команды может быть введен путем набора 
.Nm
\*(Lqescape символа\*(Rq (изначально \*(Lq^]\*(Rq).
В режиме команды доступны обычные конвенции редактирования терминала.
.Pp
Доступны
.Nm
следующие команды.
Необходимо ввести только то количество каждой команды,которое необходимо для ее однозначной идентификации
(это также верно для аргументов
.Ic mode ,
.Ic set ,
.Ic toggle ,
.Ic unset ,
.Ic slc ,
.Ic environ ,
и
.Ic display
команд).
.Bl -tag -width "mode type"
.It Ic auth Ar аргумент ...
Команда auth управляет информацией, отправляемой через 
Dv TELNET AUTHENTICATE
опцию.
Допустимые аргументы для
.Ic auth
команды:
.Bl -tag -width "disable type"
.It Ic disable Ar type
Отключает указанный тип аутентификации. 
Для
получения списка доступных типов используйте
.Ic auth disable ?\&
команду.
.It Ic enable Ar type
Включает указанный тип аутентификации.
Для
получения списка доступных типов используйте
.Ic auth enable ?\&
команду.
.It Ic status
Выводит текущий статус различных типов
аутентификации.
.El
.It Ic close
Закрывает
.Tn TELNET
сеанс и возвращает в режим команды.
.It Ic display Ar argument ...
Отображает все или некоторые
Ic set
и
.Ic toggle
значения (смотри ниже).
.It Ic encrypt Ar argument ...
 Команда encrypt управляет информацией, отправляемой через
.Dv TELNET ENCRYPT
опцию.
.Pp
Допустимые аргументы для
.Ic encrypt
команды:
.Bl -tag -width Ar
.It Ic disable Ar type Xo
.Op Cm input | output
.Xc
Отключает указанный тип шифрования.
Если вы
опустите ввод и вывод, то и ввод, и вывод будут отключены.
Для получения списка доступных
типов,используйте
.Ic encrypt disable ?\&
команду.
.It Ic enable Ar type Xo
.Op Cm input | output
.Xc
Включает указанный тип шифрования.
Если вы
опустите ввод и вывод, то и ввод, и вывод будут 
включены.
Для получения списка доступных типов используйте
.Ic encrypt enable ?\&
команду.
.It Ic input
Это то же самое,что и
.Ic encrypt start input
команда.
.It Ic -input
Это то же самое,что и
.Ic encrypt stop input
команда.
.It Ic output
Это то же самое,что и
.Ic encrypt start output
команда.
.It Ic -output
Это то же самое,что и
.Ic encrypt stop output
команда.
.It Ic start Op Cm input | output
Пытается начать шифрование.
Если вы опустите
.Ic input
и
.Ic output ,
то и ввод, и вывод будут включены.
Для
получения списка доступных типов используйте
.Ic encrypt enable ?\&
команда.
.It Ic status
Выводит текущий статус шифрования.
.It Ic stop Op Cm input | output
Останавливает шифрование.
Если вы опустите ввод и вывод,
то шифрование будет применено как к вводу, так и к выводу.
.It Ic type Ar type
Устанавливает тип шифрования по умолчанию для 
последующих
.Ic encrypt start
или
.Ic encrypt stop
команд.
.El
.It Ic environ Ar arguments ...
Команда
.Ic environ
используется для управления 
переменными, которые могут быть отправлены через 
.Dv TELNET ENVIRON
опцию.
Начальный набор переменных берется из среды
пользователя, только
.Ev DISPLAY
и
.Ev PRINTER
переменные экспортируются по умолчанию.
Переменная
.Ev USER
также экспортируется, если
.Fl a
или
.Fl l
используются опции.
.Pp
Допустимые аргументы
.Ic environ
для команды:
.Bl -tag -width Fl
.It Ic определяет Ar variable value
Определяет переменную
.Ar variable
со значением
.Ar value .
Любые переменные, определенные этой командой, автоматически экспортируются.
Значение
.Ar value
может быть заключено в одинарные или двойные 
кавычки, чтобы можно было включить табуляции и пробелы.
.It Ic undefine Ar variable
Удаляет
.Ar variable
из списка переменных среды.
.It Ic export Ar variable
Отмечает переменную
.Ar variable
для экспорта на удаленную сторону.
.It Ic unexport Ar variable
Отмечает переменную
.Ar variable
чтобы она не экспортировалась,
если это не было явно запрошено удаленной стороной.
.It Ic list
Выводит текущий набор переменных среды.
Те,что помечены
.Cm *
будут отправлены автоматически,
другие переменные будут отправлены только при явном запросе.
.It Ic ?\&
Выводит информацию для
.Ic environ
команды.
.El
.It Ic logout
Отправляет
.Dv TELNET LOGOUT
опцию на удаленную сторону.
Эта команда аналогична
.Ic close
команде; однако, если удаленная сторона не поддерживает
.Dv LOGOUT
опцию, ничего не происходит.
Если же удаленная сторона поддерживает
.Dv LOGOUT
опцию, эта команда должна заставить удаленную сторону закрыть
.Tn TELNET
соединение.
Если удаленная сторона также поддерживает возможность
приостановки сеанса пользователя для последующего повторного подключения,
аргумент logout указывает, что вы 
должны немедленно завершить сеанс.
.It Ic mode Ar type
.Ar Type
является одним из нескольких вариантов, в зависимости от состояния
.Tn TELNET
сеанса.
Запрашивается разрешение у удаленного хоста на переход в запрошенный режим.
Если удаленный хост способен войти в этот режим, 
будет введен запрошенный режим.
.Bl -tag -width Ar
.It Ic character
Отключает 
.Dv TELNET LINEMODE
опцию, или, если удаленная сторона не понимает 
.Dv LINEMODE
опцию, то входит в \*(Lqcharacter по символам\*(Rq режим.
.It Ic line
Включает
.Dv TELNET LINEMODE
опцию, если удаленная сторона не понимает 
.Dv LINEMODE
опцию, то пытается войти в \*(Lqold-line-by-line\*(Rq режим.
.It Ic isig Pq Ic \-isig
Пытается включить (выключить)
.Dv TRAPSIG
режим
.Dv LINEMODE
опции.
Для этого требуется включить
.Dv LINEMODE
опцию.
.It Ic edit Pq Ic \-edit
Пытается включить (выключить)
.Dv EDIT
режим
.Dv LINEMODE
опции.
Для этого требуется включить
.Dv LINEMODE
опцию.
.It Ic softtabs Pq Ic \-softtabs
Пытается включить (выключить)
.Dv SOFT_TAB
режим
.Dv LINEMODE
опции.
Для этого требуется включить
.Dv LINEMODE
опцию.
.It Ic litecho Pq Ic \-litecho
Пытается включить (выключить)
.Dv LIT_ECHO
режим
.Dv LINEMODE
опции.
Для этого требуется включить
.Dv LINEMODE
опцию.
.It Ic ?\&
Выводит справочную информацию для
.Ic mode
команды.
.El
.It Xo
.Ic open
.Op Fl l Ar user
.Op Ar host
.Op Oo Fl /+ Oc Ns Ar port
.Xc
Устанавливает соединение с указанным хостом.
Если номер порта
не указан,
.Nm
попытается связаться с
.Tn TELNET
сервером на порте по умолчанию.
Хост может быть именем хоста (см.
.Xr hosts 5 ) ,
адресом в формате \*(Lqdot notation\*(Rq (см.
.Xr inet 3 ) ,
или IPv6 именем хоста или IPv6 адресом в шестнадцатеричной записи.
Опция
.Fl l
используется для указания имени пользователя,
которое будет передано на удаленную систему через
.Ev ENVIRON
опцию.
При подключении к нестандартному порту
.Nm
пропускает любую автоматическую инициацию
.Tn TELNET
опций.
Если номер порта предшествует минусовой знак, 
происходит начальная согласованность опций. 
Если же номер порта 
предшествует плюсовой знак, 
любая согласованность опций запрещена,
создание простого Telnet-клиента для POP3/SMTP/NNTP/HTTP-подобных
протоколов с любыми данными,включая
.Tn TELNET
IAC символ (0xff).
После установления соединения, файл
.Pa \&.telnetrc
в
домашнем каталоге пользователя открывается.
Строки,начинающиеся с # являются
строками комментариев.
Пустые строки игнорируются.
Строки, начинающиеся 
без пробелов, считаются началом записи для машины.
Первое
в строке — это имя машины, к которой происходит 
подключение.
Это может быть имя хоста или числовой адрес в аргументе
.Ar host ,
каноническое имя этой строки, определенное с помощью
.Xr getaddrinfo 3 ,
или строка
.Dq Li DEFAULT
указывающая на все хосты.
Оставшаяся часть строки и последующие
строки, начинающиеся с пробелов, считаются
.Nm
командами и обрабатываются так, как если бы они были введены 
вручную
.Nm
в командой строке.
.It Ic quit
Закрывает любую
.Tn TELNET
сессию и выходит из
.Nm .
An end of file (in command mode) will also close a session and exit.
.It Ic send Ar arguments
Отправляет одну или несколько специальных последовательностей символов на удаленный хост.Ниже приведены аргументы, которые могут быть указаны 
(можно указать более одного аргумента за раз):
.Bl -tag -width escape
.It Ic abort
Отправляет
.Dv TELNET ABORT
(прерывание
процессов)
последовательность.
.It Ic ao
Отправляет
.Dv TELNET AO
(прерывание вывода) последовательность, что должно заставить удаленную систему очистить
все выводы
.Em from
с удаленной системы
.Em to
к терминалу пользователя.
.It Ic ayt
Отправляет
.Dv TELNET AYT
(Are You There)
последовательность, на которую удаленная система может или не может ответить.
.It Ic brk
Отправляет
.Dv TELNET BRK
(Break) последовательность,которая может иметь значение для удаленной
системы.
.It Ic ec
Отправляет
.Dv TELNET EC
(Erase Character)
последовательность,что должно заставить удаленную систему стереть последний введенный
символ.
.It Ic el
Отправляет
.Dv TELNET EL
(Erase Line)
последовательность, что должно заставить удаленную систему стереть текущую 
вводимую строку.
.It Ic eof
Отправляет
.Dv TELNET EOF
(End Of File)
поледовательность.
.It Ic eor
Отправляет
.Dv TELNET EOR
(End of Record)
последовательность.
.It Ic escape
Отправляет текущий
.Nm
escape символ (изначально \*(Lq^\*(Rq).
.It Ic ga
Отправляет
.Dv TELNET GA
(Go Ahead)
последовательность, которая вероятно не имеет значения для удаленной системы.
.It Ic getstatus
Если удаленная сторона поддерживает 
.Dv TELNET STATUS
команду,
.Ic getstatus
отправит подзапрос для запроса серверу отправить его
текущий статус опции.
.It Ic ip
Отправляет
.Dv TELNET IP
(Interrupt Process) последовательность, что должно заставить удаленную
систему прервать текущий запущенный процесс.
.It Ic nop
Отправляет
.Dv TELNET NOP
(No OPeration)
последовательность.
.It Ic susp
Отправляет
.Dv TELNET SUSP
(SUSPend process)
последовательность.
.It Ic synch
Отправляет
.Dv TELNET SYNCH
последовательность.
Эта последовательность заставляет удаленную систему отбросить все предварительно введенные 
(но еще не прочитанные) данные.
Эта последовательность отправляется как 
.Tn TCP
urgent
data (и может не работать, если удаленная система является
.Bx 4.2
системой -- если
это не работает, строчная \*(Lqr\*(Rq может быть отображена на терминале).
.It Ic do Ar cmd
.It Ic dont Ar cmd
.It Ic will Ar cmd
.It Ic wont Ar cmd
Отправляет
.Dv TELNET DO
.Ar cmd
последовательность.
.Ar Cmd
может быть как десятичным числом от 0 до 255, 
так и символическим именем для конкретной 
.Dv TELNET
команды.
.Ar Cmd
также может быть либо
.Ic help
либо
.Ic ?\&
для вывода справочной информации, включая 
список известных символических имен. 
.It Ic ?\&
Выводит справочную информацию для 
.Ic send
команды.
.El
.It Ic set Ar аргумент значение
.It Ic unset Ar аргумент значение
Команда
.Ic set
устанавливает любую из нескольких
.Nm
переменных в определенное значение или в
.Dv TRUE .
Особое значение
.Ic off
отключает функцию, связанную с
переменной, что эквивалентно использованию
.Ic unset
команды.
Команда
.Ic unset
отключит или установит в
.Dv FALSE
любые из указанных функций.
Значения переменных можно запросить с помощью
.Ic display
командыd.
Переменные, которые могут быть установлены или отменены, но не переключены,
перечислены здесь.
Кроме того, любую из переменных для
.Ic toggle
команды можно явно установить или отменить с 
помощью
.Ic set
и
.Ic unset
команд.
.Bl -tag -width escape
.It Ic ayt
Если
.Tn TELNET
находится в режиме локальных символов или
.Dv LINEMODE
включен режим, и нажата символьная команда статуса, то 
.Dv TELNET AYT
последовательность (см.
.Ic send ayt
выше) будет отправлена на
удаленный хост.
Исходное значение символа \*(LqAre You There\*(Rq
это символ статуса терминала.
.It Ic echo
Это значение (изначально \*(Lq^E\*(Rq) который,когда в
\*(Lqline by line\*(Rq режиме, переключается между локальным эхо
вводимых символов (для нормальной обработки), и подавление
эхо вводимых символов (например, при вводе пароля).
.It Ic eof
Если
.Nm
работает в
.Dv LINEMODE
или \*(Lqold старый построчный\*(Rq режим, ввод этого символа
как первого символа на строке приведет к 
отправке этого символа на удаленную систему.
Исходное значение символа eof принимается равным eof терминала
.Ic eof
символу.
.It Ic erase
Если
.Nm
находится в
.Ic localchars
режиме (см.
.Ic toggle
.Ic localchars
ниже),
.Sy и
если
.Nm
работает в \*(Lqcharacter по символьно\*(Rq режиме, то при вводе этого
символа будет отправлена
.Dv TELNET EC
последовательность (см.
.Ic send
.Ic ec
выше)
на удаленную систему.
Исходное значение стирания принимается равным стирания 
терминала
.Ic erase
символу.
.It Ic escape
Это
.Nm
символ экранного вывода (изначально \*(Lq^[\*(Rq) который вызывает переход
в
.Nm
режим команд (при подключении к удаленной системе).
.It Ic flushoutput
Если
.Nm
в
.Ic localchars
режиме (см.
.Ic toggle
.Ic localchars
ниже)
и
.Ic flushoutput
нажата клавиша, 
.Dv TELNET AO
отпрааляется (см.
.Ic send
.Ic ao
выше)
последовательность на удаленный хост.
Символ для очистки буфера (flush character) изначально равен очистке
терминала
.Ic flush
символу.
.It Ic forw1
.It Ic forw2
Если
.Nm
активен в
.Dv LINEMODE ,
этих
символах передают частичные строки на
удаленную систему.
 Символы для передачи
изначально берутся из терминала
eol и eol2 символов.
.It Ic interrupt
Если
.Nm
в
.Ic localchars
режиме (см.
.Ic toggle
.Ic localchars
ниже)
и
.Ic interrupt
клавиша нажата, 
.Dv TELNET IP
последвательность (см.
.Ic send
.Ic ip
выше)
отправляется на удаленный хост.
Символ для прерывания изначально равен 
терминалу
.Ic intr
символа.
.It Ic kill
Если
.Nm
в
.Ic localchars
режиме (см.
.Ic toggle
.Ic localchars
ниже),
.Ic и
если
.Nm
активны в \*(Lqcharacter at a time\*(Rq режиме, при нажатии
символа
.Dv TELNET EL
последовательность (см.
.Ic send
.Ic el
выше)
отправляется на удаленную систему
Символ для завершения изначально равен завершению
терминала
.Ic kill
символу.
.It Ic lnext
Если
.Nm
активны в
.Dv LINEMODE
или \*(Lqold line by line\*(Rq режиме, то этот символ принимается как символ
для перехода на новую строку
.Ic lnext
символа.
Исходное значение символ берется 
из терминала
.Ic lnext
символа.
.It Ic quit
Если
.Nm
в
.Ic localchars
режиме (см.
.Ic toggle
.Ic localchars
ниже)
и
.Ic quit
нажата клавиша
.Dv TELNET BRK
последовательность (см.
.Ic send
.Ic brk
выше)
отправляется на удаленный хост.
Символ для завершения изначально равен символу 
терминала
.Ic quit
символа.
.It Ic reprint
Если
.Nm
работает в
.Dv LINEMODE
или \*(Lqold line by line\*(Rq режиме, то этот символ считается
терминалом
.Ic reprint
символа.
Начальное значение для символа повтора берется из 
терминала
.Ic reprint
символаr.
.It Ic rlogin
Это символ выхода из rlogin.
Если установлен обычный
.Nm
символ игнорируется, если его 
предшествует этот символ в начале строки.
Этот символ в начале строки, за которым следует
"." закрывает соединение; если за ним следуе ^Z iон
приостанавливает
.Nm
командуd.
Начальное состояние-это
отключить
.Nm rlogin
символ выхода.
.It Ic start
Если
.Dv TELNET TOGGLE-FLOW-CONTROL
опция включена,
то этот символ считается
стартом терминала
.Ic start
символа.
Начальное значение для символа старта берется из 
терминала
.Ic start
символа.
.It Ic stop
Если
.Dv TELNET TOGGLE-FLOW-CONTROL
опция включена,
то этот символ считается остановкой
терминала.
.Ic stop
символа.
Начальное значение для символа остановки берется из
терминала
.Ic stop
символа.
.It Ic susp
Если
.Nm
в
.Ic localchars
режиме, или
.Dv LINEMODE
включен и
.Ic suspend
нажат символ
.Dv TELNET SUSP
последовательность (см.
.Ic send
.Ic susp
выше)
отправляется на удаленный хост.
Начальное значение для символа приостановки берется из  
терминала
.Ic suspend
символа.
.It Ic tracefile
Это файл, куда будет записываться вывод, вызванный 
.Ic netdata
или
.Ic option
отслеживанием
.Dv TRUE ,
будет установлен.
Если установлено в
.Dq Fl ,
то информация об отслеживании будет записываться в стандартный вывод (по умолчанию).
.It Ic worderase
Если
.Nm
работает в
.Dv LINEMODE
или \*(Lqold line by line\*(Rq режиме, то этот символ считается
терминалом
.Ic worderase
символа.
Начальное значение для символа стирания слова берется из 
терминала
.Ic worderase
символа.
.It Ic ?\&
Отображает правильные
.Ic set
.Pq Ic unset
команды.
.El
.It Ic slc Ar state
Команда
.Ic slc
(Set Local Characters) используется для установки
или изменения состояния специальных
символов, когда
.Dv TELNET LINEMODE
опция
включена.
Специальные символы - это символы, которые
отображаются на
.Tn TELNET
последовательности команд (например,
.Ic ip
или
.Ic quit )
или символы редактирования строки (например,
.Ic erase
и
.Ic kill ) .
По умолчанию локальные специальные символы экспортируются.
.Bl -tag -width Fl
.It Ic check
Проверить текущие настройки для текущих специальных символов.
Сторона удаленного соединения запрашивает отправку всех текущих специальных
настроек символов, и если есть какие-либо расхождения с
локальной стороной, локальная сторона переключится на удаленное значение.
.It Ic export
Переключиться на локальные значения по умолчанию для специальных символов.
Локальные
значения по умолчанию - это значения локального терминала 
во время
.Nm
запуска.
.It Ic import
Переключиться на удаленные значения по умолчанию для специальных символов.
Удаленные значения по умолчанию - это значения 
удаленной системы во время
.Tn TELNET
установки соединения.
.It Ic ?\&
Выводит информацию справки для
.Ic slc
команды.
.El
.It Ic status
Показать текущий статус
.Nm .
Это включает пирсона, к которому вы подключены, а 
также текущий режим.
.It Ic toggle Ar arguments ...
Переключение (между
.Dv TRUE
и
.Dv FALSE )
различных флагов, которые контролируют, как
.Nm
реагирует на события.
Эти флаги могут быть явно установлены в
.Dv TRUE
или
.Dv FALSE
используя
.Ic set
и
.Ic unset
команды,перечисленные выше.
Можно указать более одного аргумента.
Состояние этих флагов может быть опрошено с помощью
.Ic display
команды.
Допустимые аргументы:
.Bl -tag -width Ar
.It Ic authdebug
Включает отладочную информацию для кода аутентификации.
.It Ic autoflush
Если
.Ic autoflush
и
.Ic localchars
оба
.Dv TRUE ,
то,когда
.Ic ao ,
или
.Ic quit
символы распознаются (и преобразуются в
.Tn TELNET
последовательности; см.
.Ic set
выше для подробностей),
.Nm
отказывается отображать любые данные на терминале пользователя
до тех пор,пока удаленная система не подтвердит (через
.Dv TELNET TIMING MARK
опцию)
что она обработала эти
.Tn TELNET
последовательности.
Начальное значение для этого переключателя установлено в
.Dv TRUE
если пользователь терминала не выполнял
"stty noflsh", в проотивном случае
.Dv FALSE
(см.
.Xr stty 1 ) .
.It Ic autodecrypt
Когда
.Dv TELNET ENCRYPT
опция согласована,по
умолчанию фактическое шифрование (дешифрование) потока данных
не начинается автоматически.
Команда
(autodecrypt) указывает, что шифрование 
выходного (входного) потока должно быть включено 
как можно скорее.
.It Ic autologin
Если удаленная сторона поддерживает 
.Dv TELNET AUTHENTICATION
опцию
.Nm
пытается использовать ее для выполнения автоматической аутентификации.
Если
.Dv AUTHENTICATION
опция не поддерживается, имя пользователя
передается через
.Dv TELNET ENVIRON
опцию.
Эта команда эквивалентна указанию
.Fl a
опции
.Ic open
команде.
.It Ic autosynch
Если
.Ic autosynch
and
.Ic localchars
are both
.Dv TRUE ,
then when either the
.Ic intr
or
.Ic quit
characters is typed (see
.Ic set
above for descriptions of the
.Ic intr
and
.Ic quit
characters), the resulting
.Tn TELNET
sequence sent is followed by the
.Dv TELNET SYNCH
sequence.
This procedure
.Ic should
cause the remote system to begin throwing away all previously
typed input until both of the
.Tn TELNET
sequences have been read and acted upon.
The initial value of this toggle is
.Dv FALSE .
.It Ic binary
Enable or disable the
.Dv TELNET BINARY
option on both input and output.
.It Ic inbinary
Enable or disable the
.Dv TELNET BINARY
option on input.
.It Ic outbinary
Enable or disable the
.Dv TELNET BINARY
option on output.
.It Ic crlf
If this is
.Dv TRUE ,
then carriage returns will be sent as
.Li <CR><LF> .
If this is
.Dv FALSE ,
then carriage returns will be send as
.Li <CR><NUL> .
The initial value for this toggle is
.Dv FALSE .
.It Ic crmod
Toggle carriage return mode.
When this mode is enabled, most carriage return characters received from
the remote host will be mapped into a carriage return followed by
a line feed.
This mode does not affect those characters typed by the user, only
those received from the remote host.
This mode is not very useful unless the remote host
only sends carriage return, but never line feed.
The initial value for this toggle is
.Dv FALSE .
.It Ic debug
Toggles socket level debugging (useful only to the
.Ic super user ) .
The initial value for this toggle is
.Dv FALSE .
.It Ic encdebug
Turns on debugging information for the encryption code.
.It Ic localchars
If this is
.Dv TRUE ,
then the
.Ic flush ,
.Ic interrupt ,
.Ic quit ,
.Ic erase ,
and
.Ic kill
characters (see
.Ic set
above) are recognized locally, and transformed into (hopefully) appropriate
.Tn TELNET
control sequences
(respectively
.Ic ao ,
.Ic ip ,
.Ic brk ,
.Ic ec ,
and
.Ic el ;
see
.Ic send
above).
The initial value for this toggle is
.Dv TRUE
in \*(Lqold line by line\*(Rq mode,
and
.Dv FALSE
in \*(Lqcharacter at a time\*(Rq mode.
When the
.Dv LINEMODE
option is enabled, the value of
.Ic localchars
is ignored, and assumed to always be
.Dv TRUE .
Если
.Dv LINEMODE
когда-либо был включен, тогда
.Ic quit
отправляется как
.Ic abort ,
и
.Ic eof
и
.Ic suspend
отправляются как
.Ic eof
и
.Ic susp
(см.
.Ic send
выше).
.It Ic netdata
Переключает отображение всех сетевых данных (в шестнадцатеричном формате).
Начальное значение для этого переключателя
.Dv FALSE .
.It Ic options
Переключает отображение некоторой внутренней 
.Nm
обработки протокола (связанной с 
.Tn TELNET
опциями).
Начальное значение для этого переключателя 
.Dv FALSE .
.It Ic prettydump
Когда
.Ic netdata
переключатель включен,если
.Ic prettydump
включен вывод к
.Ic netdata
команды будет отформатирован в более удобочитаемом формате для пользователя.
Между каждым символом в выводе ставятся пробелы, и начало 
любой последовательности 
.Nm
эскейп-последовательности,предшествуя '*'  для облегчения их обнаружения.
.It Ic skiprc
Когда переключатель skiprc установлен в
.Dv TRUE ,
.Nm
пропускает чтение
.Pa \&.telnetrc
файла в домашнем 
каталоге пользователя при открытии соединений.
Начальное
значение для этого переключателя
.Dv FALSE .
.It Ic termdata
Переключает отображение всех терминальных данных (в шестнадцатеричном формате).
Начальное значение для этого переключателя
.Dv FALSE .
.It Ic verbose_encrypt
Когда
.Ic verbose_encrypt
переключатель
.Dv TRUE ,
.Nm
выводит сообщение каждый раз, когда шифрование включается 
или отключается.
Начальное значение для этого переключателя 
.Dv FALSE .
.It Ic ?\&
Отображает список доступных
.Ic toggle
команд.
.El
.It Ic z
Приостановить
.Nm .
Эта команда работает только при использовании пользователем
.Xr csh 1 .
.It Ic \&! Op Ar command
Выполнить одну команду в подоболочке на локальной 
системе.
Если
.Ar command
опущен, то вызывается интерактивная 
подоболочка
.It Ic ?\& Op Ar command
Получить помощь.
Без аргументов,
.Nm
ыводит краткое руководство.
Если
.Ar command
указан,
.Nm
выведет информацию по помощи только для этой команды.
.El
.Sh ОКРУЖАЮЩАЯ СРЕДА
.Nm
использует как минимум
.Ev HOME ,
.Ev SHELL ,
.Ev DISPLAY ,
и
.Ev TERM
переменные окружения.
Другие переменные окружения могут быть переданы 
на другую сторону через 
.Dv TELNET ENVIRON
опцию.
.Sh ФАЙЛЫ
.Bl -tag -width ~/.telnetrc -compact
.It Pa ~/.telnetrc
настраиваемые пользователем значения запуска telnet.
.El
.Sh СМ. ТАКЖЕ
.Xr rlogin 1 ,
.Xr rsh 1 ,
.Xr hosts 5 ,
.Xr nologin 5 ,
.Xr telnetd 8 Pq Pa ports/net/freebsd-telnetd
.Sh ИСТОРИЯ
Команда
.Nm
появилась в
.Bx 4.2 .
.Pp
IPv6 была добавлена WIDE/KAME проектом.
.Sh ЗАПИСИ
На некоторых удаленных системах режим эха должен быть выключен вручную при использовании
\*(Lqold line by line\*(Rq режима.
.Pp
В \*(Lqold line by line\*(Rq режиме или
.Dv LINEMODE
терминала
.Ic eof
символ распознается (и отправляется на удаленную систему)
только тогда, когда он является первым символом в строке.
