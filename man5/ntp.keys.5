.Dd 14 августа 2018 г.
Форматы файлов .Dt NTP_KEYS 5
.Os SunOS 5.10
.\"  РЕДАКТИРОВАТЬ ЭТОТ ФАЙЛ С ОСТОРОЖНОСТЬЮ (ntp.mdoc)
.\"
.\"  Он был автогенерирован 14 августа 2018 в 08:29:18 AM программой AutoGen 5.18.5
.\"  Из определений ntp.keys.def
.\" и файла шаблона agmdoc-file.tpl
.Sh ИМЯ
.Nm ntp.keys
Формат файла симметричного ключа .Nd NTP

.Sh ИМЯ
.Nm ntp.keys
Формат файла симметричного ключа .Nd NTP
.Sh ОПИСАНИЕ
.Nm
.Op Fl \-option\-name
.Op Fl \-option\-name Ar значение
.Pp
Все аргументы должны быть опциями.
.Pp
.Sh ОПИСАНИЕ
В этом документе описывается формат файла симметричного ключа NTP.
Описание использования файлов этого типа см. в разделе
Поддержка аутентификации .Qq
раздел
.Xr ntp.conf 5
страница.
.Pp
.Xr ntpd 8
считывает свои ключи из файла, указанного с помощью параметра
.Fl k
или опции командной строки
.Ic keys
в конфигурационном файле.
В то время как номер ключа 0 фиксирован стандартом NTP
(как 56 нулевых битов)
и не может быть изменен,
один или несколько ключей с номерами от 1 до 65535
могут быть произвольно заданы в файле ключей.
.Pp
В файле ключей используются те же соглашения о комментариях
что и в файле конфигурации.
Записи ключей имеют фиксированный формат вида
.Pp
.D1 Ar keyno type key opt_IP_list
.Pp
где
.Ar keyno
положительное целое число (от 1 до 65535),
.Ar type
алгоритм дайджеста сообщения,
ключ .Ar
это сам ключ, а
.Ar opt_IP_list
это необязательный список IP-адресов, разделенных запятыми\
на котором
ключ .Ar
должен быть доверенным.
которым разрешено отбывать время.
Каждый IP-адрес в
списке .Ar opt_IP_list
может содержать необязательный
.Cm /subnetbits
спецификацию, которая определяет количество битов для
желаемой доверительной подсети.
Если
.Ar opt_IP_list
пуст,
любое правильно\-аутентифицированное сообщение будет
принято.
.Pp
Ключ
ключ .Ar
может быть предоставлен в формате
контролируемом
тип .Ar
поле.
Поле
тип .Ar
.Li MD5
поддерживается всегда.
Если
.Li ntpd
был собран с использованием библиотеки OpenSSL
то можно указать любую библиотеку дайджестов, поддерживаемую этой библиотекой.
Однако, если требуется соответствие стандарту FIPS 140\-2, необходимо использовать тип
тип .Ar
должен быть либо
.Li SHA
либо
.Li SHA1 .
.Pp
Ниже перечислены некоторые типы ключей и соответствующие им форматы:
.Pp
.Bl -tag -width RMD160 -compact
.It Li MD5
Ключ состоит из 1-16 печатных символов, завершаемых
EOL,
пробелом,
или
a
.Li #
(это символ "начало комментария").
.Pp
.It Li SHA
.It Li SHA1
.It Li RMD160
Ключ представляет собой закодированную в шестнадцатеричном формате ASCII строку из 40 символов,
которая при необходимости усекается.
.El
.Pp
Обратите внимание, что ключи, используемые
.Xr ntpq 8
и
.Xr ntpdc 8
проверяются на соответствие паролям
запрашиваемым программами и вводимым вручную,
поэтому обычно целесообразно указывать эти ключи в формате ASCII.
.Sh "ОПЦИИ"
.Bl -tag
.It Fl \-help
Отображение информации об использовании и выход.
.It Fl \-more\-help
Передать расширенную информацию об использовании через пейджер.
.It Fl \-version Op Brq Ar v|c|n
Вывести версию программы и выйти.  По умолчанию используется режим `v', простая
версия.  В режиме `c' выводится информация об авторских правах, а в режиме `n'
вывести полное уведомление об авторских правах.
.El
.Sh "ПРЕСЕТЫ ВАРИАНТОВ"
Любая опция, не помеченная как \fInot presettable\fP, может быть предустановлена
путем загрузки значений из переменных окружения с именами:
.nf
  \fBNTP_KEYS_<имя опции\fP или \fBNTP_KEYS\fP
.fi
.ad
.Sh "ENVIRONMENT"
См. раздел \fBOPTION PRESETS\fP для переменных окружения конфигурации.
.Sh ФАЙЛЫ
.Bl -tag -width /etc/ntp.keys -compact
.It Pa /etc/ntp.keys
имя конфигурационного файла по умолчанию
.El
.Sh "EXIT STATUS"
Будет возвращено одно из следующих значений выхода:
.Bl -tag
.It 0 " (EXIT_SUCCESS)"
Успешное выполнение программы.
.It 1 " (EXIT_FAILURE)"
Операция завершилась неудачно или синтаксис команды не соответствует действительности.
.It 70 " (EX_SOFTWARE)"
В libopts произошла внутренняя операционная ошибка.  Пожалуйста, сообщите
об этом на autogen\-users@lists.sourceforge.net.  Спасибо.
.El
.Sh "СМОТРИТЕ ТАКЖЕ"
.Xr ntp.conf 5 ,
.Xr ntpd 8 ,
.Xr ntpdate 8 ,
.Xr ntpdc 8 ,
.Xr sntp 8
.Sh "АВТОРЫ"
Университет штата Делавэр и Фонд Network Time
.Sh "COPYRIGHT"
Copyright (C) 1992\-2017 Университет Делавэра и Network Time Foundation все права защищены.
Эта программа выпущена на условиях лицензии NTP, <http://ntp.org/license>.
.Sh "ОШИБКИ"
Сообщения об ошибках присылайте по адресу: http://bugs.ntp.org, bugs@ntp.org.
.Sh ПРИМЕЧАНИЯ
Этот документ был заимствован из FreeBSD.
.Pp
Эта страница руководства была \fIAutoGen\fP\-извлечена из \fBntp.keys\fP
определения опций.



