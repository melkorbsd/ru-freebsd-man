.\"
.Dd 27 сентября 1991 г.
.Dt PBM 5
.Os
.Sh ИМЯ
.Nm pbm
Формат переносимых растровых файлов .Nd
ОПИСАНИЕ .Sh
Портативный растровый формат - это монохромный формат с наименьшим общим знаменателем
формат монохромных файлов.
Изначально он был разработан для того, чтобы сделать разумной пересылку растровых изображений
между различными типами машин с помощью простых сетевых
почтовых программ, которые мы имеем сегодня.
Сейчас он служит общим языком для большого семейства фильтров преобразования растровых изображений
фильтров преобразования.
Определение выглядит следующим образом:
.Pp
.Bl - пуля - компактный
.It
"Магическое число" для идентификации типа файла.
Магический номер файла pbm - это два символа "P1".
.It
Пробел (пробелы, TAB, CR, LF).
.It
Ширина, отформатированная как символы ASCII в десятичном формате.
.It
Пробел.
.It
Высота, опять же в десятичном формате ASCII.
.It
Пробел.
.It
Биты ширины * высоты, каждый из которых либо '1', либо '0', начиная с левого верхнего
левого верхнего угла растрового изображения, в обычном английском порядке чтения.
.It
Символ '1' означает черный цвет, '0' - белый.
.It
Пробелы в секции битов игнорируются.
.It
Символы от "#" до следующего конца строки игнорируются (комментарии).
.It
Ни одна строка не должна быть длиннее 70 символов.
.El
.Pp
Вот пример небольшого растрового изображения в этом формате:
.Bd -литеральный
P1
# feep.pbm
24 7
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 1 1 1 1 0 0 1 1 1 1 0 0 1 1 1 1 0 0 1 1 1 1 0
0 1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 1 0
0 1 1 1 0 0 0 1 1 1 0 0 0 1 1 1 0 0 0 1 1 1 1 0
0 1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0
0 1 0 0 0 0 0 1 1 1 1 0 0 1 1 1 1 0 0 1 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
.Ed
.Pp
Программы, читающие этот формат, должны быть максимально снисходительными,
принимая все, что хоть отдаленно похоже на растровое изображение.
.Pp
Существует также вариант формата, доступный
путем установки опции RAWBITS во время компиляции.
Этот вариант
отличается следующим образом:
.Pp
.Bl -bullet -compact
.It
"Магическое число" - "P4" вместо "P1".
.It
Биты хранятся по восемь в байте, старший бит первый, младший - последний.
.It
В секции битов не допускаются пробельные символы, и только один символ
после высоты допускается только один символ (обычно новая строка).
.It
Файлы в восемь раз меньше и во много раз быстрее читаются и записываются.
.El
.Sh АВТОРЫ
Авторские права (C) 1989, 1991 гг.
.An Jef Poskanzer .
.\" Разрешение на использование, копирование, изменение и распространение данного программного обеспечения и его
.\" документацию для любых целей и без взимания платы, настоящим предоставляется при условии
.\" что вышеупомянутое уведомление об авторских правах появляется во всех копиях и что как это
.\" уведомление об авторских правах, и это уведомление о разрешении появляются в поддерживающей
.\" документации.  Данное программное обеспечение предоставляется "как есть" без явных или
.\" подразумеваемых гарантий.


